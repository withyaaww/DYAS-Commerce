{% extends 'base.html' %}
{% load static %}

{% block content %}
{% include 'navbar.html' %}

<script>
    document.getElementById('navbar').addEventListener('click', function(event) {
        // Logika interaksi saat navbar diklik
        console.log('Navbar clicked!', event.target);
        // Contoh interaksi: navigasi atau efek lain
    });
</script>

<div class="bg-white overflow-x-hidden px-4 md:px-8 pb-8 pt-24 min-h-screen bg-gray-100 flex flex-col">

  <!-- Header Section -->
  <header class="text-center mb-6">
    <h1 id="home" class="text-4xl font-bold bg-gradient-to-b from-[#312E81] to-[#5954DC] text-transparent bg-clip-text">
        𓍢ִ໋🌷 DYA'S Flowers 𓍢ִ໋🌷
    </h1>    
    <p class="text-lg mt-2 text-indigo-600">𓍢ִ໋🌷͙֒─────────────── ⋆⋅☆⋅⋆ ───────────────𓍢ִ໋🌷͙֒</p>
  </header>

  <!-- Description and Product Details Section -->
  <div  class="text-center mb-8">
    <h2  class="text-4xl font-bold bg-gradient-to-b from-[#312E81] to-[#5954DC] text-transparent bg-clip-text">
        Detail Produk:
    </h2>
    <div class="flex flex-col items-center mt-4 space-y-4">
        <div class="bg-gradient-to-b from-[#312E81] to-[#5954DC] rounded-2xl p-8 w-[90%]">
            <p class="mt-1 text-white text-1xl">
                {{ description }}
            </p>
        </div>

        <div class="bg-gradient-to-b from-[#312E81] to-[#5954DC] rounded-lg p-8 relative w-[90%]">
            <p class="text-white font-semibold">Nama: {{ name }}</p>
            <div class="absolute left-1/2 top-full w-1 h-8 bg-[#5954DC] transform -translate-x-1/2"></div>
        </div>
        <div class="bg-gradient-to-b from-[#312E81] to-[#5954DC] rounded-lg p-8 relative  w-[90%]">
            <p class="text-white font-semibold">Harga: Rp. {{ price }}</p>
            <div class="absolute left-1/2 top-full w-1 h-8 bg-[#5954DC] transform -translate-x-1/2"></div>
        </div>
        <div class="bg-gradient-to-b from-[#312E81] to-[#5954DC] rounded-lg p-8 relative w-[90%]">
            <p class="text-white font-semibold">Stok: {{ stock }}</p>
            <div class="absolute left-1/2 top-full w-1 h-8 bg-[#5954DC] transform -translate-x-1/2"></div>
        </div>
        <div class="bg-gradient-to-b from-[#312E81] to-[#5954DC] rounded-lg p-8 relative  w-[90%]">
            <p class="text-white font-semibold">Fitur Tambahan: {{ additional_features }}</p>
        </div>
    </div>
    
    <h2 id="category" class="text-4xl font-bold bg-gradient-to-b from-[#312E81] to-[#5954DC] text-transparent bg-clip-text mt-4">
        Kategori
    </h2>
    <p  class="text-lg mt-2 text-indigo-600">
        𓍢ִ໋⋆⋅☆⋅⋆ ─────────────── 𓍢ִ໋🌷 {{ category }} 𓍢ִ໋🌷 ─────────────── ⋆⋅☆⋅⋆
    </p>
    
    <div class="flex justify-center mt-4 space-x-4">
        <div class="bg-white rounded-lg shadow-lg p-4 w-1/3 hover:bg-gradient-to-b hover:from-[#312E81] hover:to-[#5954DC] transition-colors duration-300">
            <img src="{% static 'image/General.png' %}" alt="General" class="rounded-lg w-67 h-73 mb-4">
            <p class="text-center text-lg font-bold text-[#312E81] mt-2 hover:text-white transition-colors duration-300">𓍢ִ໋🌷 General 𓍢ִ໋🌷</p>
        </div>
        <div class="bg-white rounded-lg shadow-lg p-4 w-1/3 hover:bg-gradient-to-b hover:from-[#312E81] hover:to-[#5954DC] transition-colors duration-300">
            <img src="{% static 'image/Custom.png' %}" alt="Custom" class="rounded-lg w-67 h-73 mb-4">
            <p class="text-center text-lg font-bold text-[#312E81] mt-2 hover:text-white transition-colors duration-300">𓍢ִ໋🌷 Custom 𓍢ִ໋🌷</p>
        </div>
    </div>
    
    <!-- Flower List Section -->
    <h2 id="cart" class="text-4xl font-bold bg-gradient-to-b from-[#312E81] to-[#5954DC] text-transparent bg-clip-text mt-4 mb-4">
        𓍢ִ໋🌷 Flower List 𓍢ִ໋🌷
    </h2>

    {% if not products %}
    <div class="flex flex-col items-center justify-center min-h-[24rem] p-6">
        <img src="{% static 'image/dyasxoxo.jpeg' %}" alt="ayoo beli:P" class="w-96 h-96 mb-4"/>
        <p class="text-center text-gray-600">Belum ada pesanan untuk saat ini, ayo beli :((</p>
    </div>
    {% else %}
    <div class="flex flex-wrap justify-center">
        {% for product in products %}
        <div class="relative break-inside-avoid mb-4 mx-4 mt-4">
            <!-- Pin di atas card -->
            <div class="absolute -top-6 left-[-10px] transform -translate-x-0 w-12 h-12 bg-[#FDE6CA] rounded-md shadow-md mb-4"></div>

            <!-- Card dengan warna latar belakang gradien -->
            <div class="bg-gradient-to-b from-[#312E81] to-[#5954DC] shadow-lg rounded-lg break-inside-avoid flex flex-col border-2 border-blue-400 transform rotate-2 hover:rotate-1 transition-transform duration-300 animate-wiggle">
                <div class="p-4">
                    <h3 class="text-4xl font-bold bg-gray-100 text-white bg-clip-text mt-4">
                        𓍢ִ໋🌷 {{ product.name }} 𓍢ִ໋🌷
                    </h3>
                </div>
                <div class="p-5 text-gray-700">
                    <p class="font-semibold text-lg text-white mb-2">Description:</p>
                    <p class="font-medium text-white">{{ product.description }}</p>
                    <p class="font-medium text-white">Rp. {{ product.price }}</p>
                    <p class="font-medium text-white">Stock: {{ product.stock }}</p>
                    <p class="font-medium text-white">Category: {{ product.category }}</p>
                </div>
                <div class="flex justify-between p-4 border-t border-gray-300">
                    <a href="{% url 'main:edit_pesanan' product.id %}" class="bg-yellow-500 hover:bg-yellow-600 text-white rounded-full px-4 py-2 transition duration-300 shadow-lg">
                        Edit
                    </a>
                    <a href="{% url 'main:delete_pesanan' product.id %}" class="bg-red-500 hover:bg-red-600 text-white rounded-full px-4 py-2 transition duration-300 shadow-lg">
                        Delete
                    </a>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% endif %}
    
    <!-- Add New Flower Button -->
    <div class="flex justify-center mt-8">
        <a href="{% url 'main:create_flowers' %}" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300">
            Add New Flower
        </a>
    </div>
    
    <!-- Logout and Last Login Info -->
    <div class="flex justify-center mt-8">
        <a href="{% url 'main:logout' %}" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-6 rounded-lg transition duration-300">
            Logout
        </a>
    </div>
    <div class="flex justify-center mt-8">   
        <h5 class="text-gray-600">Last login: {{ last_login }}</h5>   
    </div>
</div>

{% endblock content %}
